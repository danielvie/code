# Flask UV Project

This is a simple Flask web application using `uv` as the package manager, Jinja2 for templating, and `Frozen-Flask` to generate static files for deployment on GitLab Pages. The project includes several routes with basic functionality, including form handling for GET and POST requests.

## Project Setup

Follow these steps to set up and run the project locally.

### Prerequisites
- **Python**: Version 3.11 or higher
- **uv**: A fast Python package manager (install via `pip install uv`)
- **Git**: For version control and pushing to GitLab

### Installation
1. **Clone the Repository**:
   ```bash
   git clone <your-gitlab-repo-url>
   cd flask-uv-project
   ```

2. **Install Dependencies**:
   - Use `uv` to sync dependencies from `pyproject.toml` and `uv.lock`:
     ```bash
     uv sync
     ```

3. **Run the Flask App Locally**:
   - Start the development server:
     ```bash
     uv run python app.py
     ```
   - Open your browser and visit `http://localhost:5000` to view the app.

4. **Generate Static Files (Optional)**:
   - To generate static files for deployment (mimicking GitLab Pages):
     ```bash
     uv run python freeze.py
     ```
   - Static files will be created in the `build/` directory.

### Project Structure
```
flask-uv-project/
├── app.py              # Main Flask application with routes
├── freeze.py           # Script to generate static files using Frozen-Flask
├── pyproject.toml      # Dependency configuration for uv
├── uv.lock             # Locked dependency versions
├── templates/          # Jinja2 templates
│   ├── index.html      # Homepage template
│   ├── greet.html      # Greeting page template
│   ├── get.html        # GET form template
│   └── post.html       # POST form template
└── build/              # Generated static files (not tracked in Git)
```

## Routes

The application includes the following routes:

- **`/` (Homepage)**:
  - Displays a welcome message and a list of project features using a Jinja2 template.
  - Example: `http://localhost:5000/`

- **`/greet` and `/greet/<name>`**:
  - Shows a greeting page with an optional personalized message if a `name` is provided in the URL.
  - Example: `http://localhost:5000/greet` or `http://localhost:5000/greet/Alice`

- **`/get`**:
  - Renders a form that submits data via GET parameters (e.g., `?name=Alice&message=Hello`). Displays the submitted name and message.
  - Example: `http://localhost:5000/get?name=Alice&message=Hello`

- **`/post`**:
  - Renders a form that submits data via POST (requires server-side processing). Displays the submitted name and message when run locally. Note: On GitLab Pages, only the form is displayed, as POST handling requires a dynamic server.
  - Example: `http://localhost:5000/post`

## Deployment to GitLab Pages
- The project is configured to deploy static files to GitLab Pages using `.gitlab-ci.yml`.
- Static files are generated by `Frozen-Flask` for all routes, including example query parameters for `/get` and simulated POST data for `/post`.
- After pushing to the `main` branch, the pipeline builds and deploys to `https://<username>.gitlab.io/<project-name>`.

### Notes
- The `/post` route’s form submission requires a dynamic server (not supported by GitLab Pages). Static pages with simulated POST data are generated as a workaround.
- To add more routes or features, update `app.py` and create new Jinja2 templates in the `templates/` directory.